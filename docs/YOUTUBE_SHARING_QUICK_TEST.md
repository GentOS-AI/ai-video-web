# YouTube 分享功能快速测试指南

## 🎯 测试目标

验证 YouTube 分享功能 UI 的完整交互流程和用户体验。

---

## 🚀 启动应用

开发服务器已启动：
- **本地地址**: http://localhost:3000
- **网络地址**: http://192.168.173.211:3000

---

## 📝 测试步骤

### 前提条件

1. 确保已登录（或使用测试账号）
2. 确保有至少一个状态为 `completed` 的视频

### Step 1: 进入 Media Center

```
访问: http://localhost:3000/en/my-videos
或点击导航栏的 "Media Center" / "My Videos"
```

### Step 2: 测试分享下拉菜单

1. 找到一个已完成的视频卡片
2. 查看卡片底部的操作按钮区域
3. 点击蓝色的 "Share" 按钮（Share2 图标）

**预期结果**:
- ✅ 下拉菜单从上方滑入并淡入
- ✅ 菜单宽度 `w-56` (224px)
- ✅ 包含以下选项：
  - 🎬 **Share to YouTube** (红色图标，突出显示)
  - 📱 **Share via...** (如果浏览器支持)
  - 🔗 **Copy link**
  - 🔗 **Open in new tab**

### Step 3: 测试复制链接功能

1. 在下拉菜单中点击 "Copy link"

**预期结果**:
- ✅ 菜单关闭
- ✅ Share 按钮上方显示 "Link copied!" 提示
- ✅ 提示显示 2 秒后自动消失
- ✅ 剪贴板中有视频链接
- ✅ 可以粘贴验证（Cmd/Ctrl + V）

### Step 4: 测试 YouTube 上传 Modal

1. 重新点击 "Share" 按钮
2. 点击 "Share to YouTube"

**预期结果**:
- ✅ Modal 从中心缩放淡入
- ✅ 背景有黑色半透明遮罩 + 模糊效果
- ✅ Modal 标题显示 YouTube 图标（红色）
- ✅ 标题字段已自动填充视频 prompt
- ✅ 描述字段有默认内容
- ✅ 默认隐私设置为 "Private"
- ✅ 默认标签: AI, AIVideo, VideoGeneration

### Step 5: 测试表单字段

#### 5.1 标题字段
- 输入超过 100 个字符 → 自动截断
- 字符计数实时更新
- 删除所有内容 → "Upload to YouTube" 按钮变灰

#### 5.2 描述字段
- 输入多行文本
- 字符计数显示 (最大 5000)
- 支持换行

#### 5.3 隐私设置
- 点击三个不同的隐私选项
- 选中的选项有红色边框 `border-red-500`
- 背景变为 `bg-red-50`
- 图标颜色变为红色

#### 5.4 标签管理
- 在标签输入框输入 "test"，按 Enter
  - ✅ 标签添加成功
  - ✅ 输入框清空
  - ✅ 标签计数 4/10
- 点击标签上的 X 图标删除标签
  - ✅ 标签被移除
  - ✅ 标签计数减少
- 尝试添加 10 个以上标签
  - ✅ 超过 10 个后输入框和 Add 按钮禁用

### Step 6: 测试上传流程

1. 填写完表单后，点击 "Upload to YouTube" 按钮

**预期结果**:
- ✅ 按钮文字变为 "Uploading..."
- ✅ 显示旋转加载图标
- ✅ 所有输入字段和按钮禁用
- ✅ 2 秒后显示结果：

**成功情况（90% 概率）**:
- ✅ 顶部显示绿色成功消息
- ✅ "Upload successful!" 文字
- ✅ CheckCircle 图标
- ✅ 按钮变为 "Uploaded" + 绿色图标
- ✅ 2 秒后 Modal 自动关闭

**失败情况（10% 概率）**:
- ✅ 顶部显示红色错误消息
- ✅ "Upload failed" 文字
- ✅ XCircle 图标
- ✅ 显示错误原因
- ✅ 按钮恢复为 "Upload to YouTube"
- ✅ 可以修改表单并重试

### Step 7: 测试关闭功能

测试以下关闭方式：
1. 点击右上角 X 按钮 → Modal 关闭
2. 点击 "Cancel" 按钮 → Modal 关闭
3. 点击 Modal 外部（遮罩区域） → Modal 关闭
4. 上传中时尝试关闭 → 无法关闭（按钮禁用）

### Step 8: 测试响应式布局

#### 桌面端 (> 1024px)
- 隐私选项横向排列（3 列）
- Modal 宽度 `max-w-2xl` (672px)

#### 平板端 (640px - 1024px)
- 隐私选项横向排列（3 列）
- Modal 适配屏幕宽度

#### 移动端 (< 640px)
- 隐私选项垂直堆叠（1 列）
- Modal 适配小屏幕
- 按钮和字段全宽显示

**测试方法**:
1. 打开 Chrome DevTools (F12)
2. 点击 Toggle Device Toolbar (Cmd/Ctrl + Shift + M)
3. 测试不同设备：
   - iPhone SE (375px)
   - iPad (768px)
   - Desktop (1920px)

---

## 🐛 已知问题/限制

### 当前实现状态
- ✅ UI/UX 完全实现
- ⚠️ **后端集成待完成** - 当前为模拟上传
- ⚠️ 上传成功后不会真的发布到 YouTube
- ⚠️ 需要 YouTube OAuth 授权流程（待实现）

### 模拟行为
```tsx
// 当前 handleYouTubeUpload 是模拟实现
// 90% 概率成功，10% 概率失败
// 2 秒延迟模拟网络请求
```

---

## ✅ 验收标准

### 必须通过的测试

**功能性**:
- [ ] 分享按钮可以打开/关闭下拉菜单
- [ ] YouTube 选项可以打开 Modal
- [ ] 所有表单字段可以正常输入
- [ ] 字符计数准确
- [ ] 隐私选项可以切换
- [ ] 标签可以添加/删除
- [ ] 上传流程有完整的状态反馈
- [ ] 成功后 Modal 自动关闭
- [ ] 失败后可以重试

**用户体验**:
- [ ] 动画流畅（无卡顿）
- [ ] 按钮点击反馈明确
- [ ] 错误提示清晰
- [ ] 加载状态明显
- [ ] 颜色对比度良好（可访问性）

**响应式**:
- [ ] 移动端布局正常
- [ ] 平板端布局正常
- [ ] 桌面端布局正常
- [ ] 触摸操作友好（移动端）

**浏览器兼容**:
- [ ] Chrome/Edge (Chromium)
- [ ] Safari
- [ ] Firefox
- [ ] 移动浏览器 (iOS Safari, Chrome Mobile)

---

## 📊 测试报告模板

```markdown
## YouTube 分享功能测试报告

**测试日期**: YYYY-MM-DD
**测试人员**: [Your Name]
**浏览器**: Chrome 120.x / Safari 17.x / Firefox 121.x
**设备**: Desktop / iPad / iPhone

### 测试结果

| 测试项 | 通过 | 失败 | 备注 |
|-------|------|------|------|
| 分享下拉菜单 | ✅ | ❌ | |
| YouTube Modal 打开 | ✅ | ❌ | |
| 表单字段输入 | ✅ | ❌ | |
| 隐私选项切换 | ✅ | ❌ | |
| 标签管理 | ✅ | ❌ | |
| 上传流程 | ✅ | ❌ | |
| 成功状态 | ✅ | ❌ | |
| 失败状态 | ✅ | ❌ | |
| 响应式布局 | ✅ | ❌ | |

### 发现的问题

1. [问题描述]
   - **重现步骤**: ...
   - **预期结果**: ...
   - **实际结果**: ...
   - **优先级**: High / Medium / Low

### 建议改进

1. [改进建议]
   - **原因**: ...
   - **预期效果**: ...
```

---

## 🎬 视频演示建议

如果需要录制演示视频，建议展示：

1. **开场** (5 秒)
   - 展示 Media Center 页面

2. **分享菜单** (10 秒)
   - 点击分享按钮
   - 展示下拉菜单选项
   - 测试复制链接功能

3. **YouTube Modal** (30 秒)
   - 打开 YouTube 上传 Modal
   - 展示表单字段
   - 切换隐私设置
   - 添加/删除标签

4. **上传流程** (20 秒)
   - 点击上传按钮
   - 展示加载状态
   - 展示成功状态
   - Modal 自动关闭

5. **响应式** (15 秒)
   - 切换到移动设备视图
   - 展示移动端布局
   - 演示触摸交互

**总时长**: ~1-2 分钟

---

## 📞 问题反馈

如果测试中发现问题，请提供：
1. 问题描述
2. 重现步骤
3. 浏览器/设备信息
4. 截图或视频（如果可能）

---

**文档版本**: v1.0
**创建日期**: 2025-01-20
**下次更新**: Phase 2 完成后（后端集成）
